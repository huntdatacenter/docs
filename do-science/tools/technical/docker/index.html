<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="shortcut icon" href="https://www.ntnu.no/assets/images/favicon.ico">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons">
    <meta name="description" content="Usage guide for Docker">
    <meta property="og:title" content="Technical tools: Docker">
    <meta property="og:description" content="Usage guide for Docker">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://docs.hdc.ntnu.no/do-science/tools/technical/docker/">
    <meta name="twitter:title" content="Technical tools: Docker">
    <meta name="twitter:description" content="Usage guide for Docker">
    <meta name="twitter:url" content="https://docs.hdc.ntnu.no/do-science/tools/technical/docker/">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:label1" content="Reading time">
    <meta name="twitter:data1" content="üïë 2 min read">
    <meta name="twitter:label2" content="Latest updates">
    <meta name="twitter:data2" content="https://docs.hdc.ntnu.no/news/">
    <meta name="theme-color" content="#00509e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.9a3db075.css" as="style"><link rel="preload" href="/assets/js/app.ec13e58f.js" as="script"><link rel="preload" href="/assets/js/23.e9719a72.js" as="script"><link rel="preload" href="/assets/js/180.7cc0f494.js" as="script"><link rel="prefetch" href="/assets/js/1.8b523adf.js"><link rel="prefetch" href="/assets/js/10.42d97778.js"><link rel="prefetch" href="/assets/js/100.fd3c653b.js"><link rel="prefetch" href="/assets/js/101.503fdf70.js"><link rel="prefetch" href="/assets/js/102.a27a8cf6.js"><link rel="prefetch" href="/assets/js/103.a61f8b88.js"><link rel="prefetch" href="/assets/js/104.93a72f10.js"><link rel="prefetch" href="/assets/js/105.04bd0cda.js"><link rel="prefetch" href="/assets/js/106.4669888b.js"><link rel="prefetch" href="/assets/js/107.9c6f25f4.js"><link rel="prefetch" href="/assets/js/108.30148244.js"><link rel="prefetch" href="/assets/js/109.63eeaec5.js"><link rel="prefetch" href="/assets/js/11.ba683d71.js"><link rel="prefetch" href="/assets/js/110.ef95553c.js"><link rel="prefetch" href="/assets/js/111.927c6325.js"><link rel="prefetch" href="/assets/js/112.2cb71bfa.js"><link rel="prefetch" href="/assets/js/113.39425e0f.js"><link rel="prefetch" href="/assets/js/114.c8618eec.js"><link rel="prefetch" href="/assets/js/115.e67845ca.js"><link rel="prefetch" href="/assets/js/116.a1b3cfb1.js"><link rel="prefetch" href="/assets/js/117.834b1181.js"><link rel="prefetch" href="/assets/js/118.2cd77d43.js"><link rel="prefetch" href="/assets/js/119.4b17d940.js"><link rel="prefetch" href="/assets/js/12.d957ac81.js"><link rel="prefetch" href="/assets/js/120.323f5df5.js"><link rel="prefetch" href="/assets/js/121.d2122186.js"><link rel="prefetch" href="/assets/js/122.3973d7cc.js"><link rel="prefetch" href="/assets/js/123.5041a487.js"><link rel="prefetch" href="/assets/js/124.d6dd35ff.js"><link rel="prefetch" href="/assets/js/125.81ef4845.js"><link rel="prefetch" href="/assets/js/126.27102204.js"><link rel="prefetch" href="/assets/js/127.f0348a44.js"><link rel="prefetch" href="/assets/js/128.e364206a.js"><link rel="prefetch" href="/assets/js/129.64b4c86e.js"><link rel="prefetch" href="/assets/js/13.d34ca2af.js"><link rel="prefetch" href="/assets/js/130.2d5c703f.js"><link rel="prefetch" href="/assets/js/131.01d81e0b.js"><link rel="prefetch" href="/assets/js/132.2ebd3c15.js"><link rel="prefetch" href="/assets/js/133.04d3056c.js"><link rel="prefetch" href="/assets/js/134.4aa6fffb.js"><link rel="prefetch" href="/assets/js/135.632e4f17.js"><link rel="prefetch" href="/assets/js/136.5f31943d.js"><link rel="prefetch" href="/assets/js/137.e25c100f.js"><link rel="prefetch" href="/assets/js/138.712ec5e8.js"><link rel="prefetch" href="/assets/js/139.3dd67ccc.js"><link rel="prefetch" href="/assets/js/14.4e46874c.js"><link rel="prefetch" href="/assets/js/140.2b62fd06.js"><link rel="prefetch" href="/assets/js/141.5824321e.js"><link rel="prefetch" href="/assets/js/142.75663240.js"><link rel="prefetch" href="/assets/js/143.8c8f496e.js"><link rel="prefetch" href="/assets/js/144.8fbb4507.js"><link rel="prefetch" href="/assets/js/145.8eb92a45.js"><link rel="prefetch" href="/assets/js/146.c76f63ee.js"><link rel="prefetch" href="/assets/js/147.ab1a3164.js"><link rel="prefetch" href="/assets/js/148.0f9ebee4.js"><link rel="prefetch" href="/assets/js/149.ba5efb62.js"><link rel="prefetch" href="/assets/js/15.c09d9288.js"><link rel="prefetch" href="/assets/js/150.49b79ac7.js"><link rel="prefetch" href="/assets/js/151.7cd5be4d.js"><link rel="prefetch" href="/assets/js/152.d76e2d23.js"><link rel="prefetch" href="/assets/js/153.974d12b7.js"><link rel="prefetch" href="/assets/js/154.6e634165.js"><link rel="prefetch" href="/assets/js/155.90394644.js"><link rel="prefetch" href="/assets/js/156.6093c600.js"><link rel="prefetch" href="/assets/js/157.47c937bb.js"><link rel="prefetch" href="/assets/js/158.4a57848b.js"><link rel="prefetch" href="/assets/js/159.383969f7.js"><link rel="prefetch" href="/assets/js/16.4eba4fd1.js"><link rel="prefetch" href="/assets/js/160.603430bf.js"><link rel="prefetch" href="/assets/js/161.8067c531.js"><link rel="prefetch" href="/assets/js/162.c51c88b7.js"><link rel="prefetch" href="/assets/js/163.85f17f79.js"><link rel="prefetch" href="/assets/js/164.a71c5670.js"><link rel="prefetch" href="/assets/js/165.eeb2fd1e.js"><link rel="prefetch" href="/assets/js/166.57418734.js"><link rel="prefetch" href="/assets/js/167.7aa3d815.js"><link rel="prefetch" href="/assets/js/168.dca156f9.js"><link rel="prefetch" href="/assets/js/169.e2632b15.js"><link rel="prefetch" href="/assets/js/170.7fd85b66.js"><link rel="prefetch" href="/assets/js/171.b37dd0cb.js"><link rel="prefetch" href="/assets/js/172.3dbf466d.js"><link rel="prefetch" href="/assets/js/173.eef87ea9.js"><link rel="prefetch" href="/assets/js/174.351ad25e.js"><link rel="prefetch" href="/assets/js/175.119a3921.js"><link rel="prefetch" href="/assets/js/176.689b7d32.js"><link rel="prefetch" href="/assets/js/177.8ae3fc85.js"><link rel="prefetch" href="/assets/js/178.429bd640.js"><link rel="prefetch" href="/assets/js/179.1969bee4.js"><link rel="prefetch" href="/assets/js/18.4c3a3350.js"><link rel="prefetch" href="/assets/js/181.e784bb4f.js"><link rel="prefetch" href="/assets/js/182.2f80c65e.js"><link rel="prefetch" href="/assets/js/183.981a8fa7.js"><link rel="prefetch" href="/assets/js/184.2bddf281.js"><link rel="prefetch" href="/assets/js/185.a01100de.js"><link rel="prefetch" href="/assets/js/186.f42d9be7.js"><link rel="prefetch" href="/assets/js/187.38d5a36e.js"><link rel="prefetch" href="/assets/js/188.63ee63fc.js"><link rel="prefetch" href="/assets/js/189.c332235f.js"><link rel="prefetch" href="/assets/js/19.d06f948e.js"><link rel="prefetch" href="/assets/js/190.7cf20838.js"><link rel="prefetch" href="/assets/js/191.50257eee.js"><link rel="prefetch" href="/assets/js/192.e328d686.js"><link rel="prefetch" href="/assets/js/193.92058da3.js"><link rel="prefetch" href="/assets/js/194.c9e60d37.js"><link rel="prefetch" href="/assets/js/195.8027437f.js"><link rel="prefetch" href="/assets/js/196.ae34ec58.js"><link rel="prefetch" href="/assets/js/197.259c89c5.js"><link rel="prefetch" href="/assets/js/198.1ee97ba8.js"><link rel="prefetch" href="/assets/js/199.9bb3af92.js"><link rel="prefetch" href="/assets/js/2.a755da09.js"><link rel="prefetch" href="/assets/js/20.f9343d17.js"><link rel="prefetch" href="/assets/js/200.ab844238.js"><link rel="prefetch" href="/assets/js/201.6bd97c96.js"><link rel="prefetch" href="/assets/js/202.dd593fbf.js"><link rel="prefetch" href="/assets/js/203.deae0cad.js"><link rel="prefetch" href="/assets/js/204.149ea6f4.js"><link rel="prefetch" href="/assets/js/205.d1bcdab9.js"><link rel="prefetch" href="/assets/js/206.0c56a605.js"><link rel="prefetch" href="/assets/js/207.32e7a900.js"><link rel="prefetch" href="/assets/js/208.da44433d.js"><link rel="prefetch" href="/assets/js/209.043d802e.js"><link rel="prefetch" href="/assets/js/21.ab41e715.js"><link rel="prefetch" href="/assets/js/210.a0c531b4.js"><link rel="prefetch" href="/assets/js/211.8d6a5686.js"><link rel="prefetch" href="/assets/js/212.4ebbd958.js"><link rel="prefetch" href="/assets/js/213.30b43bbf.js"><link rel="prefetch" href="/assets/js/214.099258e3.js"><link rel="prefetch" href="/assets/js/215.460985e5.js"><link rel="prefetch" href="/assets/js/216.b43665f5.js"><link rel="prefetch" href="/assets/js/22.16827fa2.js"><link rel="prefetch" href="/assets/js/24.2f133adb.js"><link rel="prefetch" href="/assets/js/25.e645d3a1.js"><link rel="prefetch" href="/assets/js/26.5f725ebe.js"><link rel="prefetch" href="/assets/js/27.0fc251de.js"><link rel="prefetch" href="/assets/js/28.a69096b9.js"><link rel="prefetch" href="/assets/js/29.3724ed4d.js"><link rel="prefetch" href="/assets/js/3.a8d486c5.js"><link rel="prefetch" href="/assets/js/30.1de00555.js"><link rel="prefetch" href="/assets/js/31.59c86669.js"><link rel="prefetch" href="/assets/js/32.0b6b06ec.js"><link rel="prefetch" href="/assets/js/33.28e4545e.js"><link rel="prefetch" href="/assets/js/34.3923c4e5.js"><link rel="prefetch" href="/assets/js/35.2972b499.js"><link rel="prefetch" href="/assets/js/36.31462091.js"><link rel="prefetch" href="/assets/js/37.785bfa3a.js"><link rel="prefetch" href="/assets/js/38.6b10835f.js"><link rel="prefetch" href="/assets/js/39.eafd8a7c.js"><link rel="prefetch" href="/assets/js/4.25e57a29.js"><link rel="prefetch" href="/assets/js/40.1a64319a.js"><link rel="prefetch" href="/assets/js/41.95849ea6.js"><link rel="prefetch" href="/assets/js/42.ca7b301d.js"><link rel="prefetch" href="/assets/js/43.d92ea578.js"><link rel="prefetch" href="/assets/js/44.109f7cf4.js"><link rel="prefetch" href="/assets/js/45.40c425cb.js"><link rel="prefetch" href="/assets/js/46.8dc87ea1.js"><link rel="prefetch" href="/assets/js/47.bb56d07b.js"><link rel="prefetch" href="/assets/js/48.53c4a44e.js"><link rel="prefetch" href="/assets/js/49.87b82404.js"><link rel="prefetch" href="/assets/js/5.edbb6f65.js"><link rel="prefetch" href="/assets/js/50.58bc1a53.js"><link rel="prefetch" href="/assets/js/51.ddd27c0c.js"><link rel="prefetch" href="/assets/js/52.85d589fc.js"><link rel="prefetch" href="/assets/js/53.2d25c134.js"><link rel="prefetch" href="/assets/js/54.b889cbaf.js"><link rel="prefetch" href="/assets/js/55.f3111eb2.js"><link rel="prefetch" href="/assets/js/56.f27292a5.js"><link rel="prefetch" href="/assets/js/57.3f737b4b.js"><link rel="prefetch" href="/assets/js/58.6e61cf07.js"><link rel="prefetch" href="/assets/js/59.04fe6947.js"><link rel="prefetch" href="/assets/js/6.76cd3693.js"><link rel="prefetch" href="/assets/js/60.15256f6e.js"><link rel="prefetch" href="/assets/js/61.a08dd435.js"><link rel="prefetch" href="/assets/js/62.1bb2ff49.js"><link rel="prefetch" href="/assets/js/63.6a7c1059.js"><link rel="prefetch" href="/assets/js/64.dbb0b11e.js"><link rel="prefetch" href="/assets/js/65.7899d8af.js"><link rel="prefetch" href="/assets/js/66.676ae1ae.js"><link rel="prefetch" href="/assets/js/67.e371e8a8.js"><link rel="prefetch" href="/assets/js/68.df854718.js"><link rel="prefetch" href="/assets/js/69.c37fb601.js"><link rel="prefetch" href="/assets/js/7.841ca30b.js"><link rel="prefetch" href="/assets/js/70.f86af2e7.js"><link rel="prefetch" href="/assets/js/71.add675e0.js"><link rel="prefetch" href="/assets/js/72.f4d62928.js"><link rel="prefetch" href="/assets/js/73.67c51220.js"><link rel="prefetch" href="/assets/js/74.110ab2ca.js"><link rel="prefetch" href="/assets/js/75.647e3a96.js"><link rel="prefetch" href="/assets/js/76.872ae5b0.js"><link rel="prefetch" href="/assets/js/77.273d8695.js"><link rel="prefetch" href="/assets/js/78.eec55723.js"><link rel="prefetch" href="/assets/js/79.35e12acd.js"><link rel="prefetch" href="/assets/js/8.63960de4.js"><link rel="prefetch" href="/assets/js/80.7808cc35.js"><link rel="prefetch" href="/assets/js/81.8bb3364e.js"><link rel="prefetch" href="/assets/js/82.20f9a2d8.js"><link rel="prefetch" href="/assets/js/83.6da6d0d0.js"><link rel="prefetch" href="/assets/js/84.a3a9e513.js"><link rel="prefetch" href="/assets/js/85.c25bec76.js"><link rel="prefetch" href="/assets/js/86.62808658.js"><link rel="prefetch" href="/assets/js/87.ca16914b.js"><link rel="prefetch" href="/assets/js/88.3f450d11.js"><link rel="prefetch" href="/assets/js/89.01d6f069.js"><link rel="prefetch" href="/assets/js/9.6476a154.js"><link rel="prefetch" href="/assets/js/90.b45d23b2.js"><link rel="prefetch" href="/assets/js/91.083a3db2.js"><link rel="prefetch" href="/assets/js/92.a1bd88d3.js"><link rel="prefetch" href="/assets/js/93.5a580287.js"><link rel="prefetch" href="/assets/js/94.12d0703d.js"><link rel="prefetch" href="/assets/js/95.09fd3122.js"><link rel="prefetch" href="/assets/js/96.6c382c99.js"><link rel="prefetch" href="/assets/js/97.d3412009.js"><link rel="prefetch" href="/assets/js/98.586af87f.js"><link rel="prefetch" href="/assets/js/99.6a4e48fe.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9a3db075.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/hunt-cloud-logo.svg" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/do-science/" class="nav-link router-link-active">
  Do science
</a></div><div class="nav-item"><a href="/administer-science/" class="nav-link">
  Administer science
</a></div><div class="nav-item"><a href="/govern-science/" class="nav-link">
  Govern science
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/do-science/" class="nav-link router-link-active">
  Do science
</a></div><div class="nav-item"><a href="/administer-science/" class="nav-link">
  Administer science
</a></div><div class="nav-item"><a href="/govern-science/" class="nav-link">
  Govern science
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Do science</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/do-science/" aria-current="page" class="sidebar-link">Welcome</a></li><li><a href="/do-science/system-status/" class="sidebar-link">System status</a></li><li><a href="/do-science/contact/" class="sidebar-link">Contact</a></li><li><a href="/do-science/patch-notes/" class="sidebar-link">Patch notes</a></li><li><a href="/do-science/privacy-statement/" class="sidebar-link">Privacy statement</a></li><li><a href="/do-science/contribute/" class="sidebar-link">Contribute</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Lab access</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HUNT Workbench</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Tools</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/do-science/tools/" aria-current="page" class="sidebar-link">Introduction</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Technical tools</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/do-science/tools/technical/docker/" aria-current="page" class="active sidebar-link">Docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/do-science/tools/technical/docker/#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/do-science/tools/technical/docker/#move-docker-directory" class="sidebar-link">Move Docker directory</a></li><li class="sidebar-sub-header"><a href="/do-science/tools/technical/docker/#troubleshooting" class="sidebar-link">Troubleshooting</a></li></ul></li><li><a href="/do-science/tools/technical/git/" class="sidebar-link">Git</a></li><li><a href="/do-science/tools/technical/gpu/" class="sidebar-link">GPU</a></li><li><a href="/do-science/tools/technical/htop/" class="sidebar-link">Htop</a></li><li><a href="/do-science/tools/technical/mobaxterm/" class="sidebar-link">MobaXterm</a></li><li><a href="/do-science/tools/technical/ncdu/" class="sidebar-link">NCDU</a></li><li><a href="/do-science/tools/technical/postgresql/" class="sidebar-link">PostgreSQL</a></li><li><a href="/do-science/tools/technical/singularity/" class="sidebar-link">Singularity</a></li><li><a href="/do-science/tools/technical/terminal-multiplexers/" class="sidebar-link">Terminal multiplexers</a></li><li><a href="/do-science/tools/technical/vnc/" class="sidebar-link">VNC</a></li><li><a href="/do-science/tools/technical/x2go/" class="sidebar-link">X2Go</a></li><li><a href="/do-science/tools/technical/vscode/" class="sidebar-link">Visual Studio Code</a></li><li><a href="/do-science/tools/technical/rdp/" class="sidebar-link">RDP</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Analytical tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Transfer tools</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Guides</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Data transfers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Community</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/do-science/service-desk/" class="sidebar-link">Service desk</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Troubleshooting</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>FAQ</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="docker"><a href="#docker" class="header-anchor">#</a> Docker</h1> <p><strong><a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noopener noreferrer">Docker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> provides application containers for Linux. You may run Docker on On-demand and BLUE machines.</strong></p> <p></p><div class="table-of-contents"><ul><li><a href="#installation">Installation</a></li><li><a href="#move-docker-directory">Move Docker directory</a></li><li><a href="#troubleshooting">Troubleshooting</a><ul><li><a href="#issues-with-pip-packages">Issues with pip packages</a></li></ul></li></ul></div><p></p> <div class="custom-block warning"><p class="custom-block-title">Singularity on home machines</p> <p>Docker will fail on your <strong><code>home</code></strong> machine due to security restrictions. We recommend that you run Singularity on your home machine. Read more in our <a href="/do-science/tools/technical/singularity/">Singularity installation guide</a>.</p></div> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>Follow the official <a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noopener noreferrer">Docker installation guide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to install Docker on unmanaged machines (On-demand and BLUE machines). <a href="/do-science/tools/technical/gpu/">GPU machines</a> come with nvidia-docker preinstalled.</p> <h2 id="move-docker-directory"><a href="#move-docker-directory" class="header-anchor">#</a> Move Docker directory</h2> <p>The operating system volume on your machine is limited in size. Depending on your size requirements, you may want to move your docker directory off the system disk and over to your machine home folder.</p> <p>On you unamanged machine:</p> <ol><li>Stop the docker service.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">service</span> <span class="token function">docker</span> stop
</code></pre></div><ol start="2"><li>Copy your Docker files to your home folder.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">rsync</span> -avu /var/lib/docker/ /home/docker
</code></pre></div><ol start="3"><li>Point Docker to your new location by editing <strong><code>/etc/docker/daemon.json</code></strong> and add your new <strong><code>data-root</code></strong> path:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/docker/daemon.json
</code></pre></div><p>Example for On-demand and BLUE machines:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;data-root&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/home/docker&quot;</span>,
<span class="token punctuation">}</span>
</code></pre></div><p>Example for GPU machines:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;data-root&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/home/docker&quot;</span>,
    <span class="token string">&quot;runtimes&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;nvidia&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;path&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;nvidia-container-runtime&quot;</span>,
            <span class="token string">&quot;runtimeArgs&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>Backup your original Docker files.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mv</span> /var/lib/docker /var/lib/docker.backup
</code></pre></div><ol start="5"><li>Restart the Docker service to fetch the new location.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">service</span> <span class="token function">docker</span> restart
</code></pre></div><ol start="6"><li>Test your new setup with a Docker command.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">ps</span> -a
</code></pre></div><h2 id="troubleshooting"><a href="#troubleshooting" class="header-anchor">#</a> Troubleshooting</h2> <h3 id="issues-with-pip-packages"><a href="#issues-with-pip-packages" class="header-anchor">#</a> Issues with pip packages</h3> <p>We have seen issues with installation of pip packages due to <strong><code>mtu</code></strong> size issues. One solution is to add <strong><code>mtu</code></strong> size specification to your Docker config file:</p> <ol><li>Open your Docker config file.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/docker/daemon.json
</code></pre></div><ol start="2"><li>Set <strong><code>mtu</code></strong> to 1330.</li></ol> <p>This is an example configuration setting <strong><code>mtu</code></strong> to 1330 to avoid most issues with packet sizes:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;data-root&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/home/docker&quot;</span>,
    <span class="token string">&quot;mtu&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1330</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/19/2023</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/do-science/tools/" class="prev router-link-active">
        Introduction
      </a></span> <span class="next"><a href="/do-science/tools/technical/git/">
        Git
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ec13e58f.js" defer></script><script src="/assets/js/23.e9719a72.js" defer></script><script src="/assets/js/180.7cc0f494.js" defer></script>
  </body>
</html>
