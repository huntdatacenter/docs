import{_ as o,a as t,b as n,c as i,d as a,e as s,f as l,g as r,h as c,i as p}from"./chunks/2.OpenVPN-guide.CaNpl8ML.js";import{_ as d,c as u,o as h,aM as m}from"./chunks/framework.DAyGILei.js";const V=JSON.parse('{"title":"VPN configuration","description":"Guide on VPN installation and configuration. Make sure you have successfully collected your keys before proceeding with this guide.","frontmatter":{"title":"VPN configuration","category":"Lab access","permalink":"/do-science/guides/vpn-configuration","outline":1,"description":"Guide on VPN installation and configuration. Make sure you have successfully collected your keys before proceeding with this guide."},"headers":[],"relativePath":"do-science/guides/access-guides/vpn-configuration.md","filePath":"do-science/guides/access-guides/vpn-configuration.md"}'),g={name:"do-science/guides/access-guides/vpn-configuration.md"};function f(y,e,b,k,v,w){return h(),u("div",null,[...e[0]||(e[0]=[m('<h1 id="configure-your-vpn" tabindex="-1">Configure your VPN <a class="header-anchor" href="#configure-your-vpn" aria-label="Permalink to &quot;Configure your VPN&quot;">​</a></h1><div class="danger custom-block"><p class="custom-block-title">Use Lab access link instead</p><p>If you are configuring access to your lab use Lab access link sent to you in onboarding email with other credentials. You can also request Lab access link in <a href="/do-science/service-desk/#request-lab-access-link-reissue">Service desk</a></p></div><p><strong>This step configure an encrypted connection between your local computer and HUNT Cloud. The specific steps are dependent on the operating system on your local computer.</strong></p><nav class="table-of-contents"><ul><li><a href="#requirements">Requirements</a></li><li><a href="#_2-1-install-the-vpn-software">2.1 Install the VPN software</a></li><li><a href="#_2-2-setup-the-vpn-profile">2.2 Setup the VPN profile</a></li><li><a href="#_2-3-connect-to-the-vpn">2.3 Connect to the VPN</a></li><li><a href="#_2-4-verify-your-vpn-connection">2.4 Verify your VPN connection</a></li><li><a href="#immediate-troubleshooting">Immediate troubleshooting</a><ul><li><a href="#authenticate-vpn">Authenticate VPN</a></li><li><a href="#vpn-connection-failed">VPN connection failed</a></li><li><a href="#could-not-read-private-key-error">Could not read Private Key error</a></li><li><a href="#unable-to-apply-changes">Unable to apply changes</a></li></ul></li></ul></nav><h2 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-label="Permalink to &quot;Requirements&quot;">​</a></h2><ol><li><p>Confirmed <a href="/do-science/lab-access/1-collect-keys#step-1-collect-your-keys">collection of secret keys</a> in Step 1 of onboarding process.</p></li><li><p>Successful setup of <a href="/do-science/lab-access/1-collect-keys#_1-3-one-time-verification-codes">Google authenticator</a> app.</p></li></ol><h2 id="_2-1-install-the-vpn-software" tabindex="-1">2.1 Install the VPN software <a class="header-anchor" href="#_2-1-install-the-vpn-software" aria-label="Permalink to &quot;2.1 Install the VPN software&quot;">​</a></h2><details class="details custom-block"><summary>Windows</summary><p>We use the open-source application <strong><code>OpenVPN</code></strong> to ensure encrypted communication between your local computer and us.</p><p><a href="https://openvpn.net/community-downloads/" target="_blank" rel="noreferrer">Download and install OpenVPN using the latest stable Windows Installer (Avoid beta versions)</a></p><p>Click on the link above, scroll down to the file named <strong><code>OpenVPN-&lt;version-number&gt;-i601-amd64.msi</code></strong> (Windows 10 users), download the file and follow the on-screen installation instructions.</p><p><strong>NTNU users</strong>: Windows users from NTNU can install OpenVPN community edition using NTNU Software Center even without administrative rights.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><strong>You will need administrative rights on your local computer to successfully install OpenVPN.</strong></p><p>Click on the link below if you do not hold administrative rights on your local computer, or don&#39;t know if you have such rights.</p><details class="details custom-block"><summary>Installing OpenVPN without administrative rights</summary><p>You can check if you have administrative rights on your local computer by running <strong><code>net localgroup &quot;Administrators&quot;</code></strong> in a <a href="https://www.howtogeek.com/235101/10-ways-to-open-the-command-prompt-in-windows-10/" target="_blank" rel="noreferrer">command prompt</a> and see if your username is listed.</p><p><strong>Request assistance from your local IT personnel if you do not hold administrative rights on your local computer and request that they:</strong></p><p>(1) assist you in the OpenVPN installation, or</p><p>(2) grant you administrative rights on your local computer so you can install OpenVPN yourself.</p><p><b>For simplicity, we have outlined the steps they need to perform, which you can attach to your request:</b><a href="/do-science/guides/openvpn-admin-group/" target="_blank"><a href="https://docs.hdc.ntnu.no/do-science/guides/openvpn-admin-group/" target="_blank" rel="noreferrer">https://docs.hdc.ntnu.no/do-science/guides/openvpn-admin-group/</a></a></p></details></div></details><details class="details custom-block"><summary>OS X and macOS</summary><p>We use Tunnelblick to ensure encrypted communication between your local computer and HUNT Cloud.</p><p><a href="https://tunnelblick.net/iprelease/Latest_Tunnelblick_Stable.dmg" target="_blank" rel="noreferrer">Download and install the latest <strong>&#39;stable release&#39;</strong> from this page</a></p></details><details class="details custom-block"><summary>Ubuntu Linux</summary><p>We use OpenVPN to ensure encrypted communication between your local computer and HUNT Cloud.</p><p>Install the <strong><code>openvpn</code></strong> and <strong><code>network-manager-openvpn-gnome</code></strong> packages from the standard repositories.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> network-manager-openvpn-gnome</span></span></code></pre></div></details><details class="details custom-block"><summary>Other Linux distributions</summary><p>You have a few options on how to install OpenVPN clients in other distributions:</p><ul><li>Install the <strong><code>openvpn</code></strong> package from the official distribution repository.</li><li>Add the <a href="https://community.openvpn.net/openvpn/wiki/OpenvpnSoftwareRepos" target="_blank" rel="noreferrer">OpenVPN community repository</a> and install the <strong><code>openvpn</code></strong> package.</li><li>Download the latest <a href="https://openvpn.net/index.php/open-source/downloads.html" target="_blank" rel="noreferrer">source tarball</a> from OpenVPN and install.</li></ul><p>After the installation, follow the &quot;Ubuntu Linux&quot; guides below on how to setup and connect.</p></details><h2 id="_2-2-setup-the-vpn-profile" tabindex="-1">2.2 Setup the VPN profile <a class="header-anchor" href="#_2-2-setup-the-vpn-profile" aria-label="Permalink to &quot;2.2 Setup the VPN profile&quot;">​</a></h2><details class="details custom-block"><summary>Windows</summary><ol><li>Start the OpenVPN client (if it is not running already)</li></ol><p><img src="'+o+'" alt="OpenVPN-icon"></p><ol start="2"><li>Expand pane on taskbar</li></ol><p><img src="'+t+'" alt="OpenVPN-icon"></p><ol start="3"><li>Select <strong><code>Import file...</code></strong></li></ol><p><img src="'+n+'" alt="OpenVPN-icon"></p><ol start="4"><li>Click on Import file and select OpenVPN profile file <strong><code>&lt;username&gt;.ovpn</code></strong> that you collected in Step 1.</li></ol><p><img src="'+i+'" alt="OpenVPN-icon"></p><p><img src="'+a+'" alt="OpenVPN-icon"></p></details><details class="details custom-block"><summary>OS X and macOS</summary><p><strong>2.2.1 If you &#39;do&#39; get prompted with the <code>Welcome to Tunnelblick</code> message, follow these steps:</strong></p><ol><li>Select <strong><code>I have configuration files</code></strong>.</li><li>In the <strong><code>Welcome to Tunnelblick</code></strong> prompt, select <strong><code>I have configuration files</code></strong>.</li><li>When prompted for which type of configuration you have, select <strong><code>OpenVPN Configurations</code></strong>.</li><li>Select the OpenVPN profile named. <strong><code>&lt;username&gt;.ovpn</code></strong> in the collection of credentials given from HUNT Cloud.</li><li>Continue with the <strong><code>Connecting to the VPN section</code></strong> below.</li></ol><p><strong>2.2.2 If you &#39;do not&#39; get prompted with the <code>Welcome to Tunnelblick</code> message, follow these steps:</strong></p><ol><li>Find the OpenVPN profile named <strong><code>&lt;username&gt;.ovpn</code></strong> that you collected in Step 1.</li><li>Right-click the file OpenVPN profile named <strong><code>&lt;username&gt;.ovpn</code></strong>.</li><li>Select <strong><code>Open With -&gt; Tunnelblick</code></strong>.</li><li>When prompted for <strong><code>Install Configuration For All Users</code></strong>, select <strong><code>Only Me</code></strong>.</li><li>Enter your macOS password to allow Tunnelblick to install the OpenVPN configuration.</li><li>Continue with the <strong><code>Connecting to the VPN section</code></strong> below.</li></ol></details><details class="details custom-block"><summary>Ubuntu Linux</summary><ol><li>Click on the <em>Network Manager</em> icon in the task bar.</li><li>Select <em>Edit Connections...</em>.</li><li>Click <em>Add</em>.</li><li>Choose <em>Import a saved VPN configuration</em> and click <em>Create</em>.</li><li>Select the OpenVPN profile named <strong><code>&lt;username&gt;.ovpn</code></strong> that you collected in Step 1.</li><li>Enter your user name (same as the OpenVPN profile file name).</li><li>Click on the person icon in the <em>Password</em> field and select <strong><code>Ask for this password every time</code></strong>.</li><li>Enter the <em>Private Key Password</em> with the <strong><code>VPN passphrase</code></strong> sent to you from HUNT over Signal.</li><li>Click on the <em>IPv4 Settings</em> tab.</li><li>Click <em>Routes...</em>.</li><li>Select the <em>Use this connection only for resources on its network</em> and click <em>OK</em>.</li><li>Click <em>Apply</em>.</li></ol></details><h2 id="_2-3-connect-to-the-vpn" tabindex="-1">2.3 Connect to the VPN <a class="header-anchor" href="#_2-3-connect-to-the-vpn" aria-label="Permalink to &quot;2.3 Connect to the VPN&quot;">​</a></h2><details class="details custom-block"><summary>Windows</summary><ol><li><p>Right-click on the OpenVPN notification icon on the taskbar.</p></li><li><p>Select <em>Connect</em>.</p></li></ol><p><img src="'+s+'" alt="OpenVPN-icon"></p><ol start="3"><li><p>Enter your user name (same as the OpenVPN profile file name).</p></li><li><p>Enter a rotating <strong><code>verification code</code></strong> from Google Authenticator as your password.</p><p><img src="'+l+'" alt="OpenVPN-icon"></p></li><li><p>When prompted for a <em>Private Key Password</em>, insert the <strong><code>VPN passphrase</code></strong> that your collected in Step 1. Your authentication will fail when you complete your passphrase below. This is expected since your verification code timed out while you typed your passphrase.</p><p><img src="'+r+'" alt="OpenVPN-icon"></p></li><li><p>Now try again to connect with a fresh <strong><code>verfication code</code></strong> from Google Authenticator.</p></li></ol><p>You should now be connected to the VPN.</p></details><details class="details custom-block"><summary>OS X and macOS</summary><ol><li><p>Start Tunnelblick and <strong><code>Connect</code></strong>.</p></li><li><p>Enter your user name (same as the OpenVPN profile file name).</p></li><li><p>Enter the <strong><code>verification code</code></strong> from Google Authenticator as your password.</p><p><img src="'+c+'" alt="tunnelblick-login"></p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Make sure that the <em>Save password</em> checkbox is <strong><code>unchecked</code></strong>.</p></div></li><li><p>When prompted for a <em>Private Key Password</em> or <em>Passphrase</em>, insert the <strong><code>VPN passphrase</code></strong> that you collected in Step 1.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Save this passphrase.</p></div></li></ol><p>Your authentication will fail when you complete your passphrase above. This is expected since your verification code timed out while you typed your passphrase.</p><ol start="6"><li>Now try again to connect with a fresh <strong><code>verfication code</code></strong> from Google Authenticator.</li></ol><p>You should now be connected to the VPN.</p></details><details class="details custom-block"><summary>Ubuntu Linux</summary><ol><li>Click on the <em>Network Manager</em> icon in the task bar.</li><li>Select <em>VPN Connections &gt;</em> and the name of your profile.</li><li>In the <em>Authenticate VPN</em> window, enter the <strong><code>verification code</code></strong> from Google Authenticator in the <em>Password</em> field.</li><li>Click <em>OK</em> to connect.</li></ol></details><h2 id="_2-4-verify-your-vpn-connection" tabindex="-1">2.4 Verify your VPN connection <a class="header-anchor" href="#_2-4-verify-your-vpn-connection" aria-label="Permalink to &quot;2.4 Verify your VPN connection&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Please invest some time to verify a successful VPN connection as you will not be able to complete Step 3 before your VPN is working.</p></div><details class="details custom-block"><summary>Windows</summary><p>The OpenVPN notification icon on the taskbar should be green.</p><p><img src="'+p+'" alt="OpenVPN-icon"></p></details><details class="details custom-block"><summary>OS X and macOS</summary><p>A small Tunnelblick window should state &quot;Connected&quot; in green letters with a timer that count the connection length.</p></details><details class="details custom-block"><summary>Ubuntu Linux</summary><p>If you received the notification <em>VPN connection has been successfully established</em>, then you are good to go.</p></details><div class="danger custom-block"><p class="custom-block-title">Access list</p><p>We allow connection from known IP addresses only. This means that your VPN connection may be blocked if you connect from a (for us) unknown network outside Norway. <a href="/do-science/service-desk/#vpn-access-list">Click here</a> to request an opening for your location in our Do science service desk.</p></div><h2 id="immediate-troubleshooting" tabindex="-1">Immediate troubleshooting <a class="header-anchor" href="#immediate-troubleshooting" aria-label="Permalink to &quot;Immediate troubleshooting&quot;">​</a></h2><p>Below are a few immediate things to try if your VPN connection did not succeed:</p><h3 id="authenticate-vpn" tabindex="-1">Authenticate VPN <a class="header-anchor" href="#authenticate-vpn" aria-label="Permalink to &quot;Authenticate VPN&quot;">​</a></h3><p>If the <em>Authenticate VPN</em> prompt pops up again, then try to log in again with a new <strong><code>verification code</code></strong>.</p><h3 id="vpn-connection-failed" tabindex="-1">VPN connection failed <a class="header-anchor" href="#vpn-connection-failed" aria-label="Permalink to &quot;VPN connection failed&quot;">​</a></h3><p>If you received the notification <em>VPN Connection Failed</em> after 60 seconds, please check the following</p><ul><li>Verify that you have an active internet connection.</li><li>Verify that the <em>Private Key Password</em> is correct.</li></ul><h3 id="could-not-read-private-key-error" tabindex="-1">Could not read Private Key error <a class="header-anchor" href="#could-not-read-private-key-error" aria-label="Permalink to &quot;Could not read Private Key error&quot;">​</a></h3><p>The error messages below indicates that there is a typo in the <em>Private Key Password</em> (step 2.3.5) and you need to type it in again.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ERROR: could not read Private Key username/password/ok/string from management interface</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Cannot load private key file</span></span></code></pre></div><h3 id="unable-to-apply-changes" tabindex="-1">Unable to apply changes <a class="header-anchor" href="#unable-to-apply-changes" aria-label="Permalink to &quot;Unable to apply changes&quot;">​</a></h3><p>If you are unable to click <em>Apply</em> after your changes, try to re-enter your <em>Private Key Password</em> using your <strong><code>VPN passphrase</code></strong> that you collected in Step 1.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If nothing works, please head over to our main <a href="/do-science/troubleshooting/connection#vpn">troubleshooting</a> section for more information on how to troubleshoot connections.</p></div>',39)])])}const _=d(g,[["render",f]]);export{V as __pageData,_ as default};
