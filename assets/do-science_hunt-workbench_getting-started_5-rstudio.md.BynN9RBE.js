import{_ as i,c as e,o as n,aM as t}from"./chunks/framework.DAyGILei.js";const s="/assets/workbench_terminal.Dm-icZAp.png",g=JSON.parse('{"title":"RStudio and R","description":"How to use RStudio and R","frontmatter":{"title":"RStudio and R","category":"Getting started","outline":0,"permalink":"/do-science/hunt-workbench/getting-started/5-rstudio","description":"How to use RStudio and R"},"headers":[],"relativePath":"do-science/hunt-workbench/getting-started/5-rstudio.md","filePath":"do-science/hunt-workbench/getting-started/5-rstudio.md"}'),l={name:"do-science/hunt-workbench/getting-started/5-rstudio.md"};function r(o,a,h,p,k,d){return n(),e("div",null,[...a[0]||(a[0]=[t('<h1 id="rstudio-and-r" tabindex="-1">RStudio and R <a class="header-anchor" href="#rstudio-and-r" aria-label="Permalink to &quot;RStudio and R&quot;">​</a></h1><h2 id="r" tabindex="-1">R <a class="header-anchor" href="#r" aria-label="Permalink to &quot;R&quot;">​</a></h2><p>We recommend using R via Conda, as its much more stable in your lab. This page contains guides on how you can setup R through Conda in your workbench</p><h3 id="how-to-create-r-environment" tabindex="-1">How to create R environment <a class="header-anchor" href="#how-to-create-r-environment" aria-label="Permalink to &quot;How to create R environment&quot;">​</a></h3><p>Here&#39;s an example on how to create a Conda environment with <em>R</em> and <em>R-IRkernel</em> kernel and commonly used packages, paste this into your <a href="/do-science/hunt-workbench/faq#terminal">terminal</a> in workbench. Feel free to remove or add other packages if you wish:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mamba</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-base&gt;=4.0,&lt;5.0&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-irkernel&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-devtools&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-remotes&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-dplyr&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-tidyverse&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-haven&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-languageserver&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-lintr&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;cmake&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;compilers&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;cmake&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;gmp&#39;</span></span></code></pre></div><h2 id="rstudio" tabindex="-1">Rstudio <a class="header-anchor" href="#rstudio" aria-label="Permalink to &quot;Rstudio&quot;">​</a></h2><p>RStudio is configured to use packages installed in the conda environment named <strong><code>r-base</code></strong>.</p><h3 id="r-packages" tabindex="-1">R packages <a class="header-anchor" href="#r-packages" aria-label="Permalink to &quot;R packages&quot;">​</a></h3><p>You can identify your current <em>R version</em> packages in your <a href="/do-science/hunt-workbench/faq#terminal">Workbench Terminal</a> following these steps:</p><ol><li>Open your Workbench Terminal.</li></ol><p><img src="'+s+'" alt="workbench_terminal.png"></p><ol start="2"><li>List the packages in your <strong><code>r-base</code></strong> conda environment.</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-base</span></span></code></pre></div><h3 id="how-to-install-r-packages" tabindex="-1">How to install R packages <a class="header-anchor" href="#how-to-install-r-packages" aria-label="Permalink to &quot;How to install R packages&quot;">​</a></h3><p>If you want to install your own R packages, we recommend that you use <a href="/do-science/tools/analytical/conda">Conda</a> where ever possible:</p><ol><li>Open <a href="/do-science/hunt-workbench/faq#terminal">Workbench Terminal</a>:</li></ol><p><img src="'+s+`" alt="workbench_terminal.png"></p><ol start="2"><li>Activate r-base environment</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> activate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-base</span></span></code></pre></div><ol start="3"><li>Add packages to your <strong><code>r-base</code></strong> code environment:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -- Principal example</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-base</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> conda-forge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-&#39;&lt;package-name&gt;&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-&#39;&lt;another-package-name&gt;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -- Practical example*</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-base</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> conda-forge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-dplyr</span></span></code></pre></div><p>For example, the above example installs the <a href="https://anaconda.org/conda-forge/r-dplyr" target="_blank" rel="noreferrer">dplyr package</a>.</p><ol start="3"><li>When the installation is complete, open <em>RStudio</em> or <em>R</em> in your workbench (look further down for guide on <a href="https://docs.hdc.ntnu.no/do-science/hunt-workbench/getting-started/5-rstudio/#:~:text=activate%20r%2Dbase-,%23,-How%20can%20I" target="_blank" rel="noreferrer">how to use R in terminal</a>) and load your new package:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -- Principal example</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">library(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;package-name&gt;)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -- Practical example</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">library(dplyr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>You can defer to alternative methods such as <code>install.packages()</code> when the package is not available in Conda (see below).</p><h3 id="how-do-i-install-r-packages-not-found-in-conda" tabindex="-1">How do I install R packages not found in Conda? <a class="header-anchor" href="#how-do-i-install-r-packages-not-found-in-conda" aria-label="Permalink to &quot;How do I install R packages not found in Conda?&quot;">​</a></h3><p>If you don&#39;t find a <em>R package</em> in Conda as described above, you may need to defer to running the <strong><code>install.packages()</code></strong> command inside R. We recommend to use <strong><code>R</code></strong> in your <a href="/do-science/hunt-workbench/faq#terminal">workbench terminal</a> for such installations (instead of installing directly in RStudio) to avoid broken environment states in RStudio. Packages installed into your <strong><code>r-base</code></strong> environment through <em>R</em> in terminal should be available in <em>RStudio</em>.</p><p>Packages installed into <code>r-base</code> environment through <strong>R</strong> in <a href="/do-science/hunt-workbench/faq#terminal">terminal</a> will be available in <strong>RStudio</strong>.</p><p>Make sure to activate the <code>r-base</code> environment before running <strong>R</strong> command.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> activate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-base</span></span></code></pre></div><h3 id="how-can-i-use-r-in-my-workbench-terminal" tabindex="-1">How can I use R in my Workbench Terminal? <a class="header-anchor" href="#how-can-i-use-r-in-my-workbench-terminal" aria-label="Permalink to &quot;How can I use R in my Workbench Terminal?&quot;">​</a></h3><p>First, open your <a href="/do-science/hunt-workbench/faq#terminal">Workbench Terminal</a>.</p><p>Start by activating <code>r-base</code> environment:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> activate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-base</span></span></code></pre></div><p>Then run <strong>R</strong> inside your <code>r-base</code> environment:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R</span></span></code></pre></div><p>Enjoy!</p><h3 id="how-can-i-recover-my-r-environment-in-case-of-broken-package-installation" tabindex="-1">How can I recover my R environment in case of broken package installation? <a class="header-anchor" href="#how-can-i-recover-my-r-environment-in-case-of-broken-package-installation" aria-label="Permalink to &quot;How can I recover my R environment in case of broken package installation?&quot;">​</a></h3><p>Sometimes you may get errors about the <strong><code>GLIBCXX</code></strong> library not being found and/or essential R packages are not working. This happens typically after installation of custom package. In such cases, you might consider to recreate your <strong><code>r-base</code></strong> environment from scratch:</p><ol><li>Open your <a href="/do-science/hunt-workbench/faq#terminal">workbench terminal</a> and run the following code to reset your <strong><code>r-base</code></strong> environment:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mamba</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --yes</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-base</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-base&gt;=4.0,&lt;5.0&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;compilers&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;cmake&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;gmp&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-irkernel&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-devtools&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-remotes&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-dplyr&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-tidyverse&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-haven&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-languageserver&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-lintr&#39;</span></span></code></pre></div><p>If you have older setup without mamba, use conda command instead:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --yes</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-base</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-base&gt;=4.0,&lt;5.0&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;compilers&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;cmake&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;gmp&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-irkernel&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-devtools&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-remotes&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-dplyr&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-tidyverse&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-haven&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-languageserver&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;r-lintr&#39;</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This removes custom packages that you might have installed.</p></div>`,45)])])}const F=i(l,[["render",r]]);export{g as __pageData,F as default};
