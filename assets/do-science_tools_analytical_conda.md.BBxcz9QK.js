import{_ as s,c as i,o as n,aM as t}from"./chunks/framework.DAyGILei.js";const c=JSON.parse('{"title":"Conda (Lab)","description":"Installation guide for Conda, including installation of R packages using Conda.","frontmatter":{"title":"Conda (Lab)","category":"Analytical tools","permalink":"/do-science/tools/analytical/conda","outline":1,"description":"Installation guide for Conda, including installation of R packages using Conda.","tags":["conda","anaconda","miniconda","bioconda","mamba","micromamba"]},"headers":[],"relativePath":"do-science/tools/analytical/conda.md","filePath":"do-science/tools/analytical/conda.md"}'),e={name:"do-science/tools/analytical/conda.md"};function l(h,a,o,r,p,k){return n(),i("div",null,[...a[0]||(a[0]=[t(`<h1 id="conda" tabindex="-1">Conda <a class="header-anchor" href="#conda" aria-label="Permalink to &quot;Conda&quot;">​</a></h1><p><strong><a href="https://conda.io/en/latest/" target="_blank" rel="noreferrer">Conda</a> is a handy environment management system that allows you to reliably install packages and libraries and quickly switch between package versions. We recommend to use faster <a href="https://mamba.readthedocs.io/en/latest/user_guide/micromamba.html" target="_blank" rel="noreferrer">Micromamba</a> distribution.</strong></p><nav class="table-of-contents"><ul><li><a href="#_1-install-conda">1. Install Conda</a></li><li><a href="#_2-set-up-bioconda-and-conda-forge-channels">2. Set up Bioconda and Conda-forge channels</a></li><li><a href="#_3-install-your-tools">3. Install your tools</a></li><li><a href="#_4-do-cool-science">4. Do cool science</a></li><li><a href="#additional-resources">Additional resources</a></li></ul></nav><div class="tip custom-block"><p class="custom-block-title">Conda in Workbench</p><p>This guide is for the installation of Conda on your lab machines when connecting over SSH.</p><p>Head over to our <a href="/do-science/hunt-workbench/getting-started/2-conda">Getting started with Conda in Workbench</a> section to learn more about Conda in your Workbench environment.</p></div><h2 id="_1-install-conda" tabindex="-1">1. Install Conda <a class="header-anchor" href="#_1-install-conda" aria-label="Permalink to &quot;1. Install Conda&quot;">​</a></h2><p>1.1 Log into your lab machine and install Miniconda:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> &quot;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SHELL</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">}&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://micro.mamba.pm/install.sh)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">~/.local/bin/micromamba</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> base</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> conda-forge</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;conda&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;mamba&quot;</span></span></code></pre></div><p>See <a href="https://conda.io/projects/conda/en/latest/user-guide/install/linux.html" target="_blank" rel="noreferrer">Installing on Linux</a> for more information on the <a href="https://mamba.readthedocs.io/en/latest/installation/micromamba-installation.html" target="_blank" rel="noreferrer">Micromamba</a> installation.</p><p>1.2 After the installation, log out and log into your lab to activate your Conda setup.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exit</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Get more out of Conda</p><p>To get most out of Conda we recommend reading the guide <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html" target="_blank" rel="noreferrer">Conda - Managing environments</a>.</p></div><h2 id="_2-set-up-bioconda-and-conda-forge-channels" tabindex="-1">2. Set up Bioconda and Conda-forge channels <a class="header-anchor" href="#_2-set-up-bioconda-and-conda-forge-channels" aria-label="Permalink to &quot;2. Set up Bioconda and Conda-forge channels&quot;">​</a></h2><p>To find packages in Conda you need to configure relevant channels.</p><p>We recommend to start with <a href="https://anaconda.org/bioconda" target="_blank" rel="noreferrer">bioconda</a> and <a href="https://anaconda.org/conda-forge" target="_blank" rel="noreferrer">conda-forge</a> channels.</p><p>2.1 A quick way to make sure your channels are added correctly is to (re)add them in this order:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> channels</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> defaults</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> channels</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nodefaults</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> channels</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bioconda</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> channels</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> conda-forge</span></span></code></pre></div><p>Read more on how to <a href="https://bioconda.github.io/" target="_blank" rel="noreferrer">set up channels</a> in the guide from Bioconda.</p><h2 id="_3-install-your-tools" tabindex="-1">3. Install your tools <a class="header-anchor" href="#_3-install-your-tools" aria-label="Permalink to &quot;3. Install your tools&quot;">​</a></h2><p>Search for your favorite tool on the <a href="https://bioconda.github.io/search.html?q=" target="_blank" rel="noreferrer">Bioconda page</a> and have a field day installing:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -- Working example</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mamba</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plink2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -- or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plink2</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>We have a very easy guide on how to get <a href="/do-science/tools/analytical/saige">Saige</a> running in Conda.</p></div><h2 id="_4-do-cool-science" tabindex="-1">4. Do cool science <a class="header-anchor" href="#_4-do-cool-science" aria-label="Permalink to &quot;4. Do cool science&quot;">​</a></h2><p>Start your favorite tools and do cool science:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plink2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">inpu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><h2 id="additional-resources" tabindex="-1">Additional resources <a class="header-anchor" href="#additional-resources" aria-label="Permalink to &quot;Additional resources&quot;">​</a></h2><ul><li><a href="https://conda.io/docs/user-guide/tasks/use-r-with-conda.html" target="_blank" rel="noreferrer">Install R with conda</a></li><li>Update to the <a href="https://anaconda.org/conda-forge/r-base" target="_blank" rel="noreferrer">latest R version</a></li><li><a href="https://repo.continuum.io/pkgs/r/linux-64/" target="_blank" rel="noreferrer">List of available R-packages</a></li></ul><p>Note that this work with some, but not all, bioconductor-packages. Please send us a note if you need these.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mamba</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> renv</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> conda-forge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-base</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-essentials</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> renv</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> conda-forge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-base</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r-essentials</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> activate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> renv</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># install package in shell</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CMD</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> INSTALL</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --library=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CONDA_PREFIX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/lib/R/library&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># install cran packages within r</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">install.packages(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;png&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> paste</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sys.getenv(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;CONDA_PREFIX&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/lib/R/library&quot;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sep=&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span></code></pre></div>`,28)])])}const g=s(e,[["render",l]]);export{c as __pageData,g as default};
